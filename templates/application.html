<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../static/style.css" />
    <title>Sports Injury Recovery Predictor</title>
</head>
<body>
    <div class="header-div">
        <h1>Sports Injury Recovery Predictor</h1>
        <h2>Follow the prompts to get your predicted recovery time, treatment method, and cost of recovery.</h2>
    </div>

    <!-- Flash message display -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="alert-container">
        {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
            {{ message }}
            <button type="button" class="close-btn" onclick="this.parentElement.style.display='none';">&times;</button>
            </div>
        {% endfor %}
        </div>
    {% endif %}
    {% endwith %}

    <form action="/predict" method="POST">
        <div class="athlete-qs">
            <h2 class="form-headers">Athlete Specific Questions</h2>
            <div class="age-gender">
                <div class="stacked-input">
                    <label for="age" id="age-label">What is the athlete's age?</label>
                    <input type="text" id="age" name="age">
                </div>

                <div class="stacked-input">
                    <p>What is the athlete's gender?</p>
                    <div>
                        <input type="radio" id="male" name="gender" value="male">
                        <label for="male">Male</label>
                        <input type="radio" id="female" name="gender" value="female">
                        <label for="female">Female</label>
                    </div>
                </div>
            </div>

            <div>
                <label for="minutes" class="mins">How many minutes has the athlete played in the last 30 days?</label>
                <input type="text" id="minutes" name="minutes">
            </div>
        </div>

        <div class="injury-qs">
            <h2 class="form-headers">Injury-Related Questions</h2>
            <div class="question">
                <p>What body part did the injury occur on?</p>
                <div class="main-box">
                    <div class="sub-box">
                        <div class="input-label-pair">
                            <input type="radio" id="calf" name="body-part" value="calf">
                            <label for="calf">Calf</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="knee" name="body-part" value="knee">
                            <label for="knee">Knee</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="foot" name="body-part" value="foot">
                            <label for="foot">Foot</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="ankle" name="body-part" value="ankle">
                            <label for="ankle">Ankle</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="face" name="body-part" value="face">
                            <label for="face">Face</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="shoulder" name="body-part" value="shoulder">
                            <label for="shoulder">Shoulder</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="hamstring" name="body-part" value="hamstring">
                            <label for="hamstring">Hamstring</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="shin" name="body-part" value="shin">
                            <label for="shin">Shin</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="achilles" name="body-part" value="achilles">
                            <label for="achilles">Achilles</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="nose" name="body-part" value="nose">
                            <label for="nose">Nose</label>
                        </div>
                    </div>
                    <div class="sub-box">
                        <div class="input-label-pair">
                            <input type="radio" id="head" name="body-part" value="head">
                            <label for="head">Head</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="wrist" name="body-part" value="wrist">
                            <label for="wrist">Wrist</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="hip" name="body-part" value="hip">
                            <label for="hip">Hip</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="ribs" name="body-part" value="ribs">
                            <label for="ribs">Ribs</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="finger" name="body-part" value="finger">
                            <label for="finger">Finger</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="back" name="body-part" value="back">
                            <label for="back">Back</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="elbow" name="body-part" value="elbow">
                            <label for="elbow">Elbow</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="jaw" name="body-part" value="jaw">
                            <label for="jaw">Jaw</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="hand" name="body-part" value="hand">
                            <label for="hand">Hand</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="question">
                <p>What is the athlete's injury?</p>
                <div class="main-box">
                    <div class="sub-box">
                        <div class="input-label-pair">
                            <input type="radio" id="ligament" name="injury" value="ligament sprain">
                            <label for="ligament">Ligament Sprain</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="eye" name="injury" value="eye injury">
                            <label for="eye">Eye Injury</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="fracture" name="injury" value="fracture">
                            <label for="fracture">Fracture</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="muscle-strain" name="injury" value="muscle strain">
                            <label for="muscle-strain">Muscle Strain</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="ankle-sprain" name="injury" value="ankle sprain">
                            <label for="ankle-sprain">Ankle Sprain</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="facial" name="injury" value="facial injury">
                            <label for="facial">Facial Injury</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="shoulder-injury" name="injury" value="shoulder injury">
                            <label for="shoulder-injury">Shoulder Injury</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="shin-splints" name="injury" value="shin splints">
                            <label for="shin-splints">Shin Splints</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="contusion" name="injury" value="contusion">
                            <label for="contusion">Contusion</label>
                        </div>
                    </div>
                    <div class="sub-box">
                        <div class="input-label-pair">
                            <input type="radio" id="wrist-strain" name="injury" value="wrist strain">
                            <label for="wrist-strain">Wrist Strain</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="tendon" name="injury" value="tendon injury">
                            <label for="tendon">Tendon Injury</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="rib-injury" name="injury" value="rib injury">
                            <label for="rib-injury">Rib Injury</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="back-strain" name="injury" value="back strain">
                            <label for="back-strain">Back Strain</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="tennis-elbow" name="injury" value="tennis elbow">
                            <label for="tennis-elbow">Tennis Elbow</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="knee-injury" name="injury" value="knee injury">
                            <label for="knee-injury">Knee Injury</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="hamstring-injury" name="injury" value="hamstring injury">
                            <label for="hamstring-injury">Hamstring Injury</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="finger-injury" name="injury" value="finger injury">
                            <label for="finger-injury">Finger Injury</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="question">
                <p>What is the severity of the injury?</p>
                <div class="input-label-pair">
                    <input type="radio" id="minor" name="severity" value="minor">
                    <label for="minor">Minor</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="moderate" name="severity" value="moderate">
                    <label for="moderate">Moderate</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="severe" name="severity" value="severe">
                    <label for="severe">Severe</label>
                </div>

                <p>What was the cause of the injury?</p>
                <div class="input-label-pair">
                    <input type="radio" id="contact" name="cause" value="contact">
                    <label for="contact">Contact</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="overuse" name="cause" value="overuse">
                    <label for="overuse">Overuse</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="non-contact" name="cause" value="non-contact">
                    <label for="non-contact">Non-contact</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="fall" name="cause" value="fall">
                    <label for="fall">Fall</label>
                </div>

                <p>Is the injury recurrent?</p>
                <div class="input-label-pair">
                    <input type="radio" id="yes" name="recurrent" value="yes">
                    <label for="yes">Yes</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="no" name="recurrent" value="no">
                    <label for="no">No</label>
                </div>
            </div>
        </div>

        <div class="event-qs">
            <h2 class="form-headers">Event-level Questions</h2>
            <div class="question">
                <p>What sport was the athlete playing when the injury occurred?</p>
                <div class="input-label-pair">
                    <input type="radio" id="football" name="sport" value="football">
                    <label for="football">Football</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="boxing" name="sport" value="boxing">
                    <label for="boxing">Boxing</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="basketball" name="sport" value="basketball">
                    <label for="basketball">Basketball</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="tennis" name="sport" value="tennis">
                    <label for="tennis">Tennis</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="athletics" name="sport" value="athletics">
                    <label for="athletics">Athletics</label>
                </div>
            </div>

            <div class="question">
                <p>What competition level does the athlete play at?</p>
                <div class="input-label-pair">
                    <input type="radio" id="amateur" name="competition" value="amateur">
                    <label for="amateur">Amateur</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="professional" name="competition" value="professional">
                    <label for="professional">Professional</label>
                </div>
            </div>

            <div class="question">
                <p>What region did the injury occur in?</p>
                <div class="input-label-pair">
                    <input type="radio" id="north" name="region" value="northern europe">
                    <label for="north">Northern Europe</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="central" name="region" value="central europe">
                    <label for="central">Central Europe</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="south" name="region" value="southern europe">
                    <label for="south">Southern Europe</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="west" name="region" value="western europe">
                    <label for="west">Western Europe</label>
                </div>
            </div>

            <div class="question">
                <p>What event type did the injury occur during?</p>
                <div class="input-label-pair">
                    <input type="radio" id="warm-up" name="event" value="warm-up">
                    <label for="warm-up">Warm-up</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="competition" name="event" value="competition">
                    <label for="competition">Competition</label>
                </div>
                <div class="input-label-pair">
                    <input type="radio" id="training" name="event" value="training">
                    <label for="training">Training</label>
                </div>
            </div>

            <div class="question">
                <p>What surface did the injury occur on?</p>
                <div class="main-box">
                    <div class="sub-box">
                        <div class="input-label-pair">
                            <input type="radio" id="grass" name="surface", value="grass">
                            <label for="grass">Grass</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="ring" name="surface", value="ring">
                            <label for="ring">Ring</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="indoor-court" name="surface", value="indoor court">
                            <label for="indoor-court">Indoor Court</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="turf" name="surface" value="artificial turf">
                            <label for="turf">Artificial Turf</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="wood" name="surface" value="wooden floor">
                            <label for="wood">Wooden Floor</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="mat" name="surface" value="training mat">
                            <label for="mat">Training Mat</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="hard-court" name="surface" value="hard court">
                            <label for="hard-court">Hard Court</label>
                        </div>
                    </div>
                    <div class="sub-box">
                        <div class="input-label-pair">
                            <input type="radio" id="field" name="surface" value="field">
                            <label for="field">Field</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="indoor-track" name="surface" value="indoor track">
                            <label for="indoor-track">Indoor Track</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="clay" name="surface" value="clay">
                            <label for="clay">Clay</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="track" name="surface" value="track">
                            <label for="track">Track</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="road" name="surface" value="road">
                            <label for="road">Road</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="outdoor-court" name="surface" value="outdoor court">
                            <label for="outdoor-court">Outdoor Court</label>
                        </div>
                        <div class="input-label-pair">
                            <input type="radio" id="gym" name="surface" value="gym floor">
                            <label for="gym">Gym Floor</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="submit-button">
            <button type="submit" id="predict">Predict</button>
        </div>
    </form>
    <script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    
    if (form) {
        form.addEventListener('submit', function(e) {
            // Get all required fields
            const requiredFields = form.querySelectorAll('[required]');
            let missingFields = [];
            
            // Check each required field
            requiredFields.forEach(field => {
                if (!field.value || field.value.trim() === '') {
                    missingFields.push(field.name || field.id);
                    field.classList.add('error-field');
                } else {
                    field.classList.remove('error-field');
                }
            });
            
            // If there are missing fields, prevent submission and show alert
            if (missingFields.length > 0) {
                e.preventDefault();
                
                // Format field names nicely
                const fieldNames = missingFields.map(name => {
                    return name.replace(/-/g, ' ')
                               .replace(/([A-Z])/g, ' $1')
                               .trim()
                               .split(' ')
                               .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                               .join(' ');
                });
                
                alert('Please fill in the following required fields:\n\n• ' + fieldNames.join('\n• '));
                
                // Scroll to first empty field
                const firstEmpty = form.querySelector('.error-field');
                if (firstEmpty) {
                    firstEmpty.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    firstEmpty.focus();
                }
            }
        });
        
        // Remove error styling when user starts typing
        const inputs = form.querySelectorAll('input, select, textarea');
        inputs.forEach(input => {
            input.addEventListener('input', function() {
                this.classList.remove('error-field');
            });
        });
    }
});
</script>
</body>
</html>